{"ast":null,"code":"var _jsxFileName = \"/Users/alfawaz/Desktop/deezer-music/Music/src/Routes.js\";\nimport React, { Component } from \"react\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\nimport Home from \"./components/Home\";\nimport DetailsAlbum from \"./components/DetailsAlbum\";\nimport FavoritesAlbums from \"./components/FavoritesAlbums\";\nimport { Signin } from \"./components/auth/Signin\";\nimport { Signup } from \"./components/auth/Signup\";\nimport Forgot from \"./components/auth/Forgot\";\nimport Reset from \"./components/auth/Reset\";\nimport Header from \"./components/widgets/Header\";\nimport jwt_decode from \"jwt-decode\";\nimport Axios from \"axios\";\nexport default class Routes extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      user: null,\n      isSignin: false\n    };\n\n    this.userSignin = signin => {\n      console.log(\"inside\");\n      console.log(!localStorage.token);\n\n      if (!localStorage.token) {\n        console.log(\"no token\");\n        Axios.post(\"http://localhost:8001/user/signin\", signin).then(res => {\n          if (res.data.token) {\n            localStorage.setItem(\"token\", res.data.token);\n            let user = jwt_decode(res.data.token, \"SECRET\").user;\n            console.log(\"user Signin\", user);\n            this.setState({\n              user: user,\n              isSignin: true\n            });\n            return true;\n          } else {\n            return false;\n            console.log(\"email or password not correct\");\n          }\n        }).catch(err => console.log(err));\n      }\n    };\n\n    this.isLogout = () => {\n      localStorage.removeItem(\"token\");\n      this.setState({\n        user: null,\n        isSignin: false\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.userSignin();\n  }\n\n  render() {\n    console.log(this.state);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      isSignin: this.state.isSignin,\n      userSignin: this.userSignin,\n      isLogout: this.isLogout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      path: \"/signin\",\n      render: props => /*#__PURE__*/React.createElement(Signin, Object.assign({}, props, {\n        userSignin: this.userSignin,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 15\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/forgot\",\n      component: Forgot,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/reset/:token\",\n      render: props => /*#__PURE__*/React.createElement(Reset, Object.assign({}, props, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 32\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/signup\",\n      component: Signup,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/\",\n      exact: true,\n      component: Home,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/details/:id\",\n      exact: true,\n      component: DetailsAlbum,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }\n    }), this.state.isSignin ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/favorites\",\n      component: FavoritesAlbums,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 15\n      }\n    }), \" \", /*#__PURE__*/React.createElement(Route, {\n      path: \"/profile\",\n      render: Profile => /*#__PURE__*/React.createElement(Profile, {\n        user: this.state.user,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 38\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 15\n      }\n    })) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/signin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 15\n      }\n    }))));\n  }\n\n}","map":{"version":3,"sources":["/Users/alfawaz/Desktop/deezer-music/Music/src/Routes.js"],"names":["React","Component","Switch","Route","Redirect","Home","DetailsAlbum","FavoritesAlbums","Signin","Signup","Forgot","Reset","Header","jwt_decode","Axios","Routes","state","user","isSignin","userSignin","signin","console","log","localStorage","token","post","then","res","data","setItem","setState","catch","err","isLogout","removeItem","componentDidMount","render","props","Profile"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\nimport Home from \"./components/Home\";\nimport DetailsAlbum from \"./components/DetailsAlbum\";\nimport FavoritesAlbums from \"./components/FavoritesAlbums\";\nimport { Signin } from \"./components/auth/Signin\";\nimport { Signup } from \"./components/auth/Signup\";\nimport Forgot from \"./components/auth/Forgot\";\nimport Reset from \"./components/auth/Reset\";\nimport Header from \"./components/widgets/Header\";\nimport jwt_decode from \"jwt-decode\";\nimport Axios from \"axios\";\n\n\nexport default class Routes extends Component {\n  state = {\n    user: null,\n    isSignin: false,\n  };\n  componentDidMount() {\n    this.userSignin();\n  }\n  \n  userSignin = (signin) => {\n    console.log(\"inside\");\n    console.log(!localStorage.token);\n    if (!localStorage.token) {\n      console.log(\"no token\");\n      Axios.post(\"http://localhost:8001/user/signin\", signin)\n        .then((res) => {\n          if (res.data.token) {\n            localStorage.setItem(\"token\", res.data.token);\n            let user = jwt_decode(res.data.token, \"SECRET\").user;\n            console.log(\"user Signin\", user);\n            this.setState({\n              user: user,\n              isSignin: true,\n            });\n            return true;\n          } else {\n            return false;\n            console.log(\"email or password not correct\");\n          }\n        })\n        .catch((err) => console.log(err));\n    }\n \n  };\n  isLogout = () => {\n    localStorage.removeItem(\"token\");\n    this.setState({\n      user: null,\n      isSignin: false,\n    });\n  };\n  render() {\n    console.log(this.state);\n    return (\n      <div>\n        <Header\n          isSignin={this.state.isSignin}\n          userSignin={this.userSignin}\n          isLogout={this.isLogout}\n        />\n        <Switch>\n          <Route\n            path=\"/signin\"\n            render={(props) => (\n              <Signin {...props} userSignin={this.userSignin} />\n            )}\n          />\n          {/* <Route path=\"/signin\" component={Signin} /> */}\n          <Route path=\"/forgot\" component={Forgot} />\n          <Route\n            exact\n            path=\"/reset/:token\"\n            render={(props) => <Reset {...props} />}\n          />\n          <Route path=\"/signup\" component={Signup} />\n          {/* <Route path=\"/profile\" component={Profile} /> */}\n          <Route path=\"/\" exact component={Home} />\n          <Route path=\"/details/:id\" exact component={DetailsAlbum} />\n          {/* <Route path=\"/favorites\" exact component={FavoritesAlbums} /> */}\n          {this.state.isSignin ? (\n            <>\n              <Route exact path=\"/favorites\" component={FavoritesAlbums} />{\" \"}\n              <Route\n                path=\"/profile\"\n                render={(Profile) => <Profile user={this.state.user} />}\n              />\n            </>\n          ) : (\n            <>\n              <Redirect to=\"/signin\" />\n            </>\n          )}\n        </Switch>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}