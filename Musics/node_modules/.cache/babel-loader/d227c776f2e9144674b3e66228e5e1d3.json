{"ast":null,"code":"var _jsxFileName = \"/Users/bashaier.alhassani/Desktop/deezer-music/Music/src/Routes.js\";\nimport React, { Component } from \"react\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\nimport Home from \"./components/Home\";\nimport DetailsAlbum from \"./components/DetailsAlbum\";\nimport FavoritesAlbums from \"./components/FavoritesAlbums\";\nimport { Signin } from \"./components/auth/Signin\";\nimport { Signup } from \"./components/auth/Signup\";\nimport Forgot from \"./components/auth/Forgot\";\nimport Reset from \"./components/auth/Reset\";\nimport Profile from \"./components/Profile\";\nimport Header from \"./components/widgets/Header\";\nimport jwt_decode from \"jwt-decode\";\nexport default class Routes extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      user: null,\n      isSignin: false\n    };\n\n    this.userSignin = () => {\n      if (localStorage.token) {\n        let token = localStorage.token;\n        let user = jwt_decode(token, \"SECRET\").user;\n        console.log(\"user Signin\", user);\n        this.setState({\n          user: user,\n          isSignin: false\n        });\n        return true;\n      }\n\n      return false; // } else {\n      //   this.setState({\n      //     user: null,\n      //     isLogin: false,\n      //   });\n      // }\n    };\n  }\n\n  componentDidMount() {\n    this.userSignin();\n  }\n\n  render() {\n    console.log(this.state);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      isSignin: this.state.isSignin,\n      userSignin: this.userSignin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }\n    }), \"\\u2029\", /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      path: \"/signin\",\n      render: props => /*#__PURE__*/React.createElement(Signin, Object.assign({}, props, {\n        userSignin: this.userSignin,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 15\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/signin\",\n      component: Signin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/forgot\",\n      component: Forgot,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/reset/:token\",\n      render: props => /*#__PURE__*/React.createElement(Reset, Object.assign({}, props, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 32\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/signup\",\n      component: Signup,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/profile\",\n      component: Profile,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/\",\n      exact: true,\n      component: Home,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/details/:id\",\n      exact: true,\n      component: DetailsAlbum,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/favorites\",\n      exact: true,\n      component: FavoritesAlbums,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }\n    }), this.state.isSignin ? /*#__PURE__*/React.createElement(React.Fragment, null, \" \", /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/favorites\",\n      component: FavoritesAlbums,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 15\n      }\n    }), \" \", /*#__PURE__*/React.createElement(Route, {\n      path: \"/profile\",\n      render: Profile => /*#__PURE__*/React.createElement(Profile, {\n        user: this.state.user,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 38\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 15\n      }\n    }), \" \") : /*#__PURE__*/React.createElement(React.Fragment, null, \" \", /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/signin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 15\n      }\n    }), \" \")));\n  }\n\n}","map":{"version":3,"sources":["/Users/bashaier.alhassani/Desktop/deezer-music/Music/src/Routes.js"],"names":["React","Component","Switch","Route","Redirect","Home","DetailsAlbum","FavoritesAlbums","Signin","Signup","Forgot","Reset","Profile","Header","jwt_decode","Routes","state","user","isSignin","userSignin","localStorage","token","console","log","setState","componentDidMount","render","props"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\nimport Home from \"./components/Home\";\nimport DetailsAlbum from \"./components/DetailsAlbum\";\nimport FavoritesAlbums from \"./components/FavoritesAlbums\";\nimport { Signin } from \"./components/auth/Signin\";\nimport { Signup } from \"./components/auth/Signup\";\nimport Forgot from \"./components/auth/Forgot\";\nimport Reset from \"./components/auth/Reset\";\nimport Profile from \"./components/Profile\";\nimport Header from \"./components/widgets/Header\";\nimport jwt_decode from \"jwt-decode\";\n\nexport default class Routes extends Component {\n  state = {\n    user: null,\n    isSignin: false,\n  };\n  componentDidMount() {\n    this.userSignin();\n  }\n  userSignin = () => {\n    if (localStorage.token) {\n      let token = localStorage.token;\n      let user = jwt_decode(token, \"SECRET\").user;\n      console.log(\"user Signin\",user);\n      this.setState({\n        user: user,\n        isSignin: false,\n      });\n      return true;\n    }\n    return false;\n\n    // } else {\n    //   this.setState({\n    //     user: null,\n    //     isLogin: false,\n    //   });\n    // }\n  };\n  render() {\n    console.log(this.state);\n    return (\n      <div>\n        <Header isSignin={this.state.isSignin} userSignin={this.userSignin} />\n         \n        <Switch>\n          <Route\n            path=\"/signin\"\n            render={(props) => (\n              <Signin {...props} userSignin={this.userSignin} />\n            )}\n          />\n          <Route path=\"/signin\" component={Signin} />\n          <Route path=\"/forgot\" component={Forgot} />\n          <Route\n            exact\n            path=\"/reset/:token\"\n            render={(props) => <Reset {...props} />}\n          />\n          <Route path=\"/signup\" component={Signup} />\n          <Route path=\"/profile\" component={Profile} />\n\n          <Route path=\"/\" exact component={Home} />\n          <Route path=\"/details/:id\" exact component={DetailsAlbum} />\n          <Route path=\"/favorites\" exact component={FavoritesAlbums} />\n          {this.state.isSignin ? (\n            <>\n              {\" \"}\n              <Route exact path=\"/favorites\" component={FavoritesAlbums} />{\" \"}\n              <Route\n                path=\"/profile\"\n                render={(Profile) => <Profile user={this.state.user} />}\n              />{\" \"}\n            </>\n          ) : (\n            <>\n              {\" \"}\n              <Redirect to=\"/signin\" />{\" \"}\n            </>\n          )}\n        </Switch>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}